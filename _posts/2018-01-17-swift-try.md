---
layout: post
title: Swift - try, try?, try!
date: 2018-01-17 20:11:20 +0800
tags: "iOS"
---

<!--more-->

> if we just try try try
> 
> just to be ni-ni-nice 
> 
> -- Jason Mraz ã€ŠTry Try Tryã€‹

Emmmm...ï¼Œä¸è‡ªè§‰å“¼å‡ºæ¥äº†ã€‚ã€‚ã€‚æ”¶ï¼

Swift ä¸­çš„`try`å…³é”®å­—æœ‰ä¸‰ç§å½¢å¼ï¼š

* try
* tryï¼Ÿ
* tryï¼

é‚£ä¹ˆè¿™ä¸‰ä¸ª keyword æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ

## Try

`try`ç”¨æ¥æ ‡è®°å¯ä»¥æŠ›å‡ºé”™è¯¯çš„ä»£ç ï¼Œå®ƒä¸€èˆ¬é…åˆ`do - catch`æ¥ä½¿ç”¨ã€‚

```
do {
    let result = try foo()
} catch {
    print(error)
}
```

åœ¨`do - catch`å—ä¸­ï¼Œä½¿ç”¨`try`è°ƒç”¨ä¸€ä¸ªå¯èƒ½ä¼šæŠ›å‡ºé”™è¯¯çš„å‡½æ•°ï¼Œå¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œä¼šè¢«`catch`æ•è·ï¼Œå¹¶ä¸”ï¼Œé”™è¯¯ä¼šè¢«è‡ªåŠ¨å‘½åæˆ`error`ï¼Œå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±å‘½åã€‚

```
/// define error
enum YourError:Error {
    case NoMoney
    case NoHoney
    case Chiou
}

do {
    let result = try foo()
} catch YourError.NoHoney {
    print("single" + "ğŸ¶")
} catch let why as YourError {
    print(why) // rename 'error' as 'why'
} 
```

## Try?

ä½¿ç”¨`try?`æ¥è°ƒç”¨ä¸€ä¸ªå¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸çš„å‡½æ•°çš„æ—¶å€™ï¼Œä¼šå¿½ç•¥æŠ›å‡ºçš„é”™è¯¯ï¼Œå½“æˆ‘ä»¬ä¸ care é”™è¯¯çš„å‘ç”Ÿçš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ª

```
let _ = try? foo()
```

## Try!

`try!`å°±æ¯”è¾ƒå±Œäº†ï¼Œå¦‚æœæ²¡æœ‰å¼‚å¸¸æŠ›å‡ºçš„æ—¶å€™ï¼Œå®ƒå’Œå…¶ä»–å½¢å¼ä¸€æ ·ï¼Œéƒ½èƒ½æ­£å¸¸å·¥ä½œï¼Œä½†æ˜¯ï¼Œå¦‚æœæœ‰å¼‚å¸¸æŠ›å‡ºäº†ï¼Œè¿™å“¥ä»¬åˆ†åˆ†é’Ÿæ­»ç»™ä½ çœ‹(crash)ã€‚Emmm...ï¼Œæ…ç”¨å§ã€‚

```
let _ = try! foo() // å¦‚æœæœ‰å¼‚å¸¸ï¼Œè¿™é‡Œå°±ä¼š crash
```

## Reference

[try, try! & try? whatâ€™s the difference, and when to use each?](https://stackoverflow.com/questions/32390611/try-try-try-what-s-the-difference-and-when-to-use-each)

