---
layout: post
title: 一张图正确理解内存对齐
date: 2016-11-09 00:50:32
tags: ["iOS"]

---

<!--more-->

![内存对齐](https://leo-1253441258.cos.ap-shanghai.myqcloud.com/blog/%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90.jpeg)

在结构体中，成员数据对齐满足以下规则：
1. 结构体中的第一个成员的首地址也即是结构体变量的首地址。
2. 结构体中的每一个成员的首地址相对于结构体的首地址的偏移量（offset）是该成员数据类型大小的整数倍。
3. 结构体的总大小是对齐模数（对齐模数等于#pragma pack(n)所指定的n与结构体中最大数据类型的成员大小的最小值）的整数倍。

