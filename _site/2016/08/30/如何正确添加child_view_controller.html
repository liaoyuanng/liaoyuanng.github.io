<!DOCTYPE html>
<html>
<head><!-- post -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¦‚ä½•æ­£ç¡®æ·»åŠ Child View Controller - Stay True</title>
    <meta name="author"  content="Ju Liaoyuan">
    <meta name="description" content="å¦‚ä½•æ­£ç¡®æ·»åŠ Child View Controller">
    <meta name="keywords"  content="iOS">
    <!-- Open Graph -->
    <meta property="og:title" content="å¦‚ä½•æ­£ç¡®æ·»åŠ Child View Controller - Stay True">
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://localhost:4000/2016/08/30/%E5%A6%82%E4%BD%95%E6%AD%A3%E7%A1%AE%E6%B7%BB%E5%8A%A0child_view_controller.html">
    <meta property="og:description" content="iOS æ¬ç –ï¼Œä¸šä½™å¤©æ–‡çˆ±å¥½è€…">
    <meta property="og:site_name" content="Stay True">
    <link rel="stylesheet" href="//cdn.staticfile.org/normalize/6.0.0/normalize.min.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_roc50gemkxpw4s4i.css">
    <link rel="stylesheet" href= "/assets/css/github-markdown.css" | prepend: site.baseurl >
    <link rel="stylesheet" href="/assets/css/styles/default.css" | prepend: site.baseurl>
    <link rel="stylesheet" href= "/assets/css/share.min.css"  | prepend: site.baseurl>
    <link rel="stylesheet" href= "/assets/css/app.min.css" | prepend: site.baseurl >

    <!-- Favicon -->
    <link rel="shortcut icon" href="/assets/img/favicon.ico">
</head>
<body>
    <!--[if lt IE 10]>
<div class="alert-danger" role="alert">ä½ çš„æµè§ˆå™¨å®åœ¨å¤ªå¤ªå¤ªæ—§äº†ï¼Œæ”¾å­¦åˆ«èµ°ï¼Œå‡çº§å®Œæµè§ˆå™¨å†è¯´ï¼<a target="_blank" class="alert-link" href="http://browsehappy.com">ç«‹å³å‡çº§</a></div>
<![endif]-->
<input id="nm-switch" type="hidden" value="false">

<header class="g-header">
    <div class="g-logo">
        <a href="/"></a>
    </div>
    <i id="menu-toggle" class="iconfont icon-menu"></i>
    <nav class="g-nav">
        <ul>
            
            <li><a href="/">home</a></li>
            
            <li><a href="/tags.html">tags</a></li>
            
        </ul>
    </nav>
</header>

<header class="g-banner post-header post-pattern-circuitBoard bgcolor-default post-no-cover" data-theme="default">
    <div class="post-wrapper">
        <div class="post-tags">
             
            
            <a href="/tags#iOS" class="post-tag">iOS</a>
            
            
        </div>
        <h1>å¦‚ä½•æ­£ç¡®æ·»åŠ Child View Controller</h1>
        <div class="post-meta">
            <span class="post-meta-item"><i class="iconfont icon-author"></i><a href="http://localhost:4000" target="_blank" rel="author">Ju Liaoyuan</a></></span>
            <time class="post-meta-item" datetime="16-08-30"><i class="iconfont icon-date"></i>31 Aug 2016</time>
        </div>
    </div>
    
</header>

<div class="post-content">
    
    <article class="markdown-body">
        <h3 id="è¿™æ˜¯ä¸€ä¸ªä»€ä¹ˆé—®é¢˜">è¿™æ˜¯ä¸€ä¸ªä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3>

<p>æˆ‘ä»¬åœ¨å¹³å¸¸çš„å·¥ä½œä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°ç±»ä¼¼ä½¿ç”¨<code class="highlighter-rouge">UISegmentedControl</code>æ¥åˆ‡æ¢ä¸¤ä¸ªé¡µé¢æ˜¾ç¤ºä¸åŒå†…å®¹çš„åŠŸèƒ½ã€‚å¦‚æœæ²¡æœ‰äº†è§£è¿‡çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¾ˆå¯èƒ½ä¼šè¿™æ ·åšï¼š</p>

<!--more-->

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- (void)segmentedControlValueChange:(UISegmentedController *)sender {
 	if (sender.selectedSegmentIndex == 1) {
         [self.view addSubview:viewcontrller1.view];
     }else {
         [self.view addSubview:viewcontrller2.view];
    };
}
</code></pre></div></div>

<p>ä½ å¯èƒ½æ„Ÿè§‰è¿™æ ·åšä¹Ÿå®ç°äº†éœ€æ±‚ï¼Œå¹¶ä¸”æ²¡ä»€ä¹ˆé—®é¢˜ã€‚ä½†å…¶å®è¿™æ ·åšæ˜¯ä¸å¯¹çš„ï¼Œå¹¶ä¸”æ˜¯å¾ˆå±é™©çš„ã€‚</p>

<blockquote>
  <p><em>ä¸€ä¸ªå¾ˆéº»çƒ¦çš„é—®é¢˜æ˜¯ï¼Œè¿™å°†ä¼šå¯¼è‡´ä½ çš„appåœ¨ä¸åŒçš„iOSç‰ˆæœ¬ä¸Šæœ‰ä¸åŒçš„è¡¨ç°ã€‚åœ¨iOS5ä¹‹å‰ï¼Œèƒ½å¤Ÿå¯¹viewControllerè¿›è¡Œç®¡ç†çš„ç±»æœ‰UINavigationControllerï¼ŒUITabBarControllerå’ŒiPadä¸“æœ‰çš„UISplitViewControllerã€‚è€Œåœ¨iOS5ä¸­åŠ å…¥äº†å¯è‡ªå®šä¹‰çš„ViewControllersçš„å®¹å™¨ã€‚ç”±äºæ–°çš„SDKçš„å¤„ç†æœºåˆ¶ï¼ŒiOS4å‰é€šè¿‡addSubviewåŠ åˆ°å½“å‰controllerçš„viewä¸Šçš„viewçš„å‘ˆç°ï¼Œå°†ä¸ä¼šè§¦å‘è¢«åŠ å…¥view hierarchyçš„viewçš„controllerçš„viewWillAppear:æ–¹æ³•ã€‚è€Œä¸”ï¼Œæ–°åŠ å…¥çš„viewControllerä¹Ÿä¸ä¼šæ¥æ”¶åˆ°è¯¸å¦‚didReceiveMemoryWarningç­‰å§”æ‰˜æ–¹æ³•ï¼Œè€Œä¸”ä¹Ÿä¸èƒ½å“åº”æ‰€æœ‰çš„æ—‹è½¬äº‹ä»¶ï¼è€ŒiOS5ä¸­ç”±äºæ‰€è°“çš„custom container VCçš„å‡ºç°ï¼Œä¸Šè¿°æ–¹æ³•åˆèƒ½å¤Ÿè¿è¡Œè‰¯å¥½ï¼Œè¿™å¯¼è‡´äº†åŒæ ·ä»£ç åœ¨ä¸åŒç»ˆç«¯äº§ç”Ÿä¸åŒçš„è¡Œä¸ºï¼Œä¸ºä¹‹åçš„ç»´æŠ¤å’Œè¿›ä¸€æ­¥å¼€å‘åŸ‹ä¸‹äº†éšæ‚£ã€‚å¦å¤–ï¼Œç”¨è¿™æ ·çš„æ–¹æ³•æ‰€æ·»åŠ çš„viewControlleræ˜¾ç„¶è¿èƒŒäº†Appleçš„æœ¬æ„ï¼Œå®ƒçš„parentViewControllerï¼ŒinterfaceOrientationæ˜¾ç„¶éƒ½æ˜¯é”™è¯¯çš„ï¼Œæœ‰æ—¶å€™ç”šè‡³ä¼šå‡ºç°è§¦æ‘¸äº‹ä»¶æ— æ³•å“åº”ç­‰ä¸¥é‡é—®é¢˜ã€‚</em>(å¼•ç”¨è‡ª:<a href="https://onevcat.com/2012/02/uiviewcontroller/">UIViewControllerçš„è¯¯ç”¨</a>)</p>
</blockquote>

<blockquote>
  <p>ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯<em>View äº‹ä»¶æ–¹æ³•è¯¸å¦‚ viewWillAppear: å°†ä¸ä¼šè¢«è°ƒç”¨ã€‚</em></p>
</blockquote>

<h3 id="æ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯ä»€ä¹ˆ">æ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>ç›´æ¥ä¸Šä»£ç ï¼š</p>

<p><em>æ·»åŠ ä¸€ä¸ª child view controller</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UIViewController *vc = [UIViewController new];
[self addChildViewController:vc]; // æŠŠvcä½œä¸ºå½“å‰viewcontrllerçš„å­æ§åˆ¶å™¨
// config vc. 
[self.view addSubview:vc.view]; // æŠŠvcçš„viewæ·»åŠ åˆ°çˆ¶æ§åˆ¶å™¨ä¸Šé¢
[vc didMoveToParentViewController:self];  // å­vcè¢«é€šçŸ¥ç°åœ¨æœ‰äº†ä¸€ä¸ªçˆ¶æ§åˆ¶å™¨
</code></pre></div></div>

<p><em>ç§»é™¤ä¸€ä¸ª child view controller</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[vc willMoveToParentViewController:nil];
[vc.view removeFromSuperview];
[vc removeFromParentViewController];
</code></pre></div></div>

<p>ä¸Šé¢ä¾¿æ˜¯æ­£ç¡®å»ºç«‹/è§£é™¤çˆ¶å­è¯•å›¾æ§åˆ¶å™¨çš„æ­£ç¡®åšæ³•</p>

<h3 id="appearance-callbacksçš„ä¼ é€’">appearance callbacksçš„ä¼ é€’</h3>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬åœ¨æ¯ä¸ªChild ViewControllerçš„<code class="highlighter-rouge">viewWillAppear</code>,<code class="highlighter-rouge">viewDidAppear</code>,<code class="highlighter-rouge">viewWillDisappear</code>â€¦â€¦è¿™äº›APIé‡Œé¢åšçš„é€»è¾‘æ€ä¹ˆè°ƒç”¨ï¼Œç­”æ¡ˆæ˜¯ä¸ç”¨æˆ‘ä»¬å»è°ƒç”¨ï¼Œå› ä¸ºç³»ç»Ÿå·²ç»å¸®æˆ‘ä»¬å®ç°äº†ã€‚å…·ä½“å°±æ˜¯ï¼šåœ¨<code class="highlighter-rouge">addSubview</code>çš„æ—¶å€™ï¼Œå°±ä¼šè°ƒç”¨å¯¹åº”æ—¶æœºçš„æ–¹æ³•ã€‚</p>

<p>ä½†æ˜¯æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸æƒ³åœ¨æŒ‰ç…§ç³»ç»Ÿé‚£æ ·è°ƒç”¨ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæœ‰ä¸€äº›åˆ«çš„éœ€æ±‚ï¼Œæ¯”å¦‚æ·»åŠ åŠ¨ç”»ï¼Œè®¾ç½®å¯¼èˆªæ çš„UIç­‰ç­‰ã€‚è¿™æ—¶å€™æˆ‘ä»¬æ€ä¹ˆèƒ½å¤Ÿç¦æ­¢ç³»ç»Ÿçš„è‡ªåŠ¨ä¼ é€’çš„ç‰¹æ€§å‘¢ã€‚</p>

<p>åœ¨iOS 5ä¸­ï¼Œä½ éœ€è¦è¦†ç›–<code class="highlighter-rouge">automaticallyForwardAppearanceAndRotationMethodsToChildViewControllers </code>æ–¹æ³•ï¼Œå¹¶ä¸”è¿”å›<code class="highlighter-rouge">NO</code>ã€‚</p>

<p>åœ¨iOS 6 and laterä¸­ï¼Œä½ éœ€è¦è¦†ç›–
<code class="highlighter-rouge">shouldAutomaticallyForwardAppearanceMethods </code>æ–¹æ³•ï¼Œå¹¶ä¸”è¿”å›<code class="highlighter-rouge">NO</code>ã€‚</p>

<p>å¹¶ä¸”ï¼Œæˆ‘ä»¬ä¸èƒ½æ‰‹åŠ¨è°ƒç”¨<code class="highlighter-rouge">viewWillAppear</code>,<code class="highlighter-rouge">viewDidAppear</code>â€¦â€¦ï¼Œè€Œæ˜¯éœ€è¦ä½¿ç”¨<code class="highlighter-rouge">beginAppearanceTransition:animated:</code>,<code class="highlighter-rouge">endAppearanceTransition </code>æ–¹æ³•æ¥é—´æ¥è§¦å‘<code class="highlighter-rouge">appearance callbacks</code>ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬å¿…é¡»æˆå¯¹ä½¿ç”¨<code class="highlighter-rouge">beginAppearanceTransition:animated </code>å’Œ<code class="highlighter-rouge">endAppearanceTransition </code>.å³ï¼š</p>

<p><code class="highlighter-rouge">beginAppearanceTransition:animated </code>è®¾ç½®ä¸º<code class="highlighter-rouge">YES</code>è§¦å‘<code class="highlighter-rouge">Child View Controller</code>çš„<code class="highlighter-rouge">viewWillAppear</code>;
<code class="highlighter-rouge">beginAppearanceTransition:animated </code>è®¾ç½®ä¸º<code class="highlighter-rouge">NO</code>è§¦å‘<code class="highlighter-rouge">Child View Controller</code>çš„<code class="highlighter-rouge">viewWillDisappear</code>;
<code class="highlighter-rouge">endAppearanceTransition</code> è§¦å‘<code class="highlighter-rouge">Child View Controller</code>çš„<code class="highlighter-rouge">viewDidAppear</code> å’Œ<code class="highlighter-rouge">viewDidDisappear</code></p>

<h3 id="å®é™…çš„åº”ç”¨">å®é™…çš„åº”ç”¨</h3>
<p>ä¸ºäº†æ›´å¥½çš„è¯´æ˜,æˆ‘å†™äº†ä¸€ä¸ªå¾ˆç®€å•çš„<a href="https://github.com/Stu-JuLiaoY/SwitchViewController">Demo</a>ï¼Œä»£ç å°±ä¸å†å¤åˆ¶ç²˜è´´äº†ã€‚Demoé‡Œé¢åˆ†äº†ä¸¤ç§æƒ…å†µã€‚</p>

<h3 id="references">References</h3>
<p><a href="https://objccn.io/issue-1-4/">View Controller å®¹å™¨</a></p>

<p><a href="http://geeklu.com/2014/05/custom-container-view-controller/">Custom Container View Controller</a></p>

<p><a href="https://onevcat.com/2012/02/uiviewcontroller/"> UIViewControllerçš„è¯¯ç”¨ </a></p>


    </article>
    
    <div class="social-share-wrapper">
        <div class="social-share"></div>
    </div>
    
</div>

<section class="author-detail">
    <section class="post-footer-item author-card">
        <div class="avatar">
            <img src="/assets/img/profile.png" alt="">
        </div>
        <div class="author-name" rel="author">Ju Liaoyuan</div>
        <div class="bio">
            <p>iOS æ¬ç –ï¼Œä¸šä½™å¤©æ–‡çˆ±å¥½è€…</p>
        </div>
        
        <ul class="sns-links">
            
            <li>
                <a href="//weibo.com/u/2738809475" target="_blank">
                    <i class="iconfont icon-weibo"></i>
                </a>
            </li>
            
            <li>
                <a href="//juejin.im/user/5872f9822f301e0057490c89" target="_blank">
                    <i class="iconfont icon-juejin"></i>
                </a>
            </li>
            
            <li>
                <a href="//github.com/liaoyuanng" target="_blank">
                    <i class="iconfont icon-github"></i>
                </a>
            </li>
            
            <li>
                <a href="//jianshu.com/u/f386d4a61d33" target="_blank">
                    <i class="iconfont icon-jianshu"></i>
                </a>
            </li>
            
            <li>
                <a href="mailto:liaoyuan@imliaoyuan.com" target="_blank">
                    <i class="iconfont icon-email"></i>
                </a>
            </li>
            
        </ul>
        
    </section>
    <section class="post-footer-item read-next">
        
        <div class="read-next-item">
            <a href="/2016/09/24/iOS10%E6%96%B0%E7%89%B9%E6%80%A7-%E9%80%9A%E7%9F%A5.html" class="read-next-link"></a>
            <section>
                <span>iOS10æ–°ç‰¹æ€§ - é€šçŸ¥</span>
                <p>iOS 10 ä¸­ï¼Œè‹¹æœå¯¹é€šçŸ¥è¿›è¡Œäº†è¾ƒå¤§çš„æ›´æ–°ã€‚åˆæœ‰çš„ç©äº†ã€‚</p>
            </section>
            
            <div class="filter"></div>
            <img src="https://leo-1253441258.cos.ap-shanghai.myqcloud.com/blog/ios10.png" alt="">
            
        </div>
        
         
        <div class="read-next-item">
            <a href="/2016/04/15/%E5%A4%8D%E6%97%A6-%E5%90%8C%E6%B5%8E%E4%B8%80%E6%97%A5%E6%B8%B8.html" class="read-next-link"></a>
            <section>
                <span>å¤æ—¦&åŒæµä¸€æ—¥æ¸¸</span>
                <p></p>
            </section>
            
            <div class="filter"></div>
            <img src="https://leo-1253441258.cos.ap-shanghai.myqcloud.com/blog/IMG_3963.JPG" alt="">
            
        </div>
        
    </section>
    
</section>

<footer class="g-footer">
    <section>Stay True Â© 2018</section>
    <section>Powered by <a href="//jekyllrb.com">Jekyll</a> | <a href="https://github.com/liaoyuanng/StayTrue">Theme StayTrue</a>
    <p>Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a></p></section>
</footer>

<script src="/assets/js/social-share.min.js"></script>
<script>
    socialShare('.social-share', {
        sites: ['wechat','weibo','twitter','facebook'],
        wechatQrcodeTitle: "åˆ†äº«åˆ°å¾®ä¿¡æœ‹å‹åœˆ",
        wechatQrcodeHelper: '<p>æ‰«ç ååˆ†äº«ğŸ˜˜</p>'
    });
</script>
<script>
/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
/*å†™å…¥è‡ªå·±çš„disqusä¿¡æ¯*/
s.src = '';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
<script src="/assets/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="/assets/js/index.min.js"></script>
</body>
</html>