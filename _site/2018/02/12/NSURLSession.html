<!DOCTYPE html>
<html>
<head><!-- post -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NSURLSession ç®€è¿° - Stay True</title>
    <meta name="author"  content="Ju Liaoyuan">
    <meta name="description" content="NSURLSession ç®€è¿°">
    <meta name="keywords"  content="iOS">
    <!-- Open Graph -->
    <meta property="og:title" content="NSURLSession ç®€è¿° - Stay True">
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://localhost:4000/2018/02/12/NSURLSession.html">
    <meta property="og:description" content="iOS æ¬ç –ï¼Œä¸šä½™å¤©æ–‡çˆ±å¥½è€…">
    <meta property="og:site_name" content="Stay True">
    <link rel="stylesheet" href="//cdn.staticfile.org/normalize/6.0.0/normalize.min.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_roc50gemkxpw4s4i.css">
    <link rel="stylesheet" href= "/assets/css/github-markdown.css" | prepend: site.baseurl >
    <link rel="stylesheet" href="/assets/css/styles/default.css" | prepend: site.baseurl>
    <link rel="stylesheet" href= "/assets/css/share.min.css"  | prepend: site.baseurl>
    <link rel="stylesheet" href= "/assets/css/app.min.css" | prepend: site.baseurl >

    <!-- Favicon -->
    <link rel="shortcut icon" href="/assets/img/favicon.ico">
</head>
<body>
    <!--[if lt IE 10]>
<div class="alert-danger" role="alert">ä½ çš„æµè§ˆå™¨å®åœ¨å¤ªå¤ªå¤ªæ—§äº†ï¼Œæ”¾å­¦åˆ«èµ°ï¼Œå‡çº§å®Œæµè§ˆå™¨å†è¯´ï¼<a target="_blank" class="alert-link" href="http://browsehappy.com">ç«‹å³å‡çº§</a></div>
<![endif]-->
<input id="nm-switch" type="hidden" value="false">

<header class="g-header">
    <div class="g-logo">
        <a href="/"></a>
    </div>
    <i id="menu-toggle" class="iconfont icon-menu"></i>
    <nav class="g-nav">
        <ul>
            
            <li><a href="/">home</a></li>
            
            <li><a href="/tags.html">tags</a></li>
            
        </ul>
    </nav>
</header>

<header class="g-banner post-header post-pattern-circuitBoard bgcolor-default " data-theme="default">
    <div class="post-wrapper">
        <div class="post-tags">
             
            
            <a href="/tags#iOS" class="post-tag">iOS</a>
            
            
        </div>
        <h1>NSURLSession ç®€è¿°</h1>
        <div class="post-meta">
            <span class="post-meta-item"><i class="iconfont icon-author"></i><a href="http://localhost:4000" target="_blank" rel="author">Ju Liaoyuan</a></></span>
            <time class="post-meta-item" datetime="18-02-12"><i class="iconfont icon-date"></i>12 Feb 2018</time>
        </div>
    </div>
    
    <div class="filter"></div>
    <div class="post-cover" style="background: url('https://leo-1253441258.cos.ap-shanghai.myqcloud.com/blog/urlsession.png') center no-repeat; background-size: cover;">
    
</header>

<div class="post-content">
    
    <article class="markdown-body">
        <!--more-->

<p><code class="highlighter-rouge">NSURLSession</code>æ˜¯<code class="highlighter-rouge">Apple</code>åœ¨<code class="highlighter-rouge">iOS 7</code>æ¨å‡ºçš„ï¼Œç”¨äºå–ä»£<code class="highlighter-rouge">NSURLConnection</code>çš„ç±»ã€‚å®ƒæ”¯æŒ<code class="highlighter-rouge">HTTP/1.1</code>å’Œ<code class="highlighter-rouge">HTTP/2</code>,å¢åŠ äº†<code class="highlighter-rouge">ATS</code>,æ”¯æŒ<code class="highlighter-rouge">HSTS</code>ï¼Œ</p>

<p>å®ƒåˆ›å»ºå¹¶ç®¡ç†ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œå¯ä»¥ä½¿ç”¨<code class="highlighter-rouge">[NSURLSession sharedSession]</code>æ¥åˆå§‹åŒ–ï¼Œè¿™æ ·é»˜è®¤ä½¿ç”¨çš„æ˜¯å…¨å±€çš„<code class="highlighter-rouge">NSURLCache</code>ï¼Œ<code class="highlighter-rouge">NSHTTPCookieStorage</code>ï¼Œ<code class="highlighter-rouge">NSURLCredentialStorage</code>ã€‚å½“ç„¶ï¼Œè¿™ä¸ªä¹Ÿå¯ä»¥æ›´æ”¹ã€‚<code class="highlighter-rouge">NSURLSession</code>æŠŠç½‘ç»œè¯·æ±‚æŠ½è±¡æˆä¸€ä¸ªä¸ª<code class="highlighter-rouge">Task</code>ï¼Œä¸ä¹‹å¯¹åº”çš„æ˜¯<code class="highlighter-rouge">NSURLSessionTask</code>,æˆ‘ä»¬å…ˆä»å®ƒè®²èµ·ã€‚</p>

<h1 id="nsurlsessiontask">NSURLSessionTask</h1>

<p>è¿™æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œæä¾›äº†ä¸€ç³»åˆ—çš„å±æ€§å’Œæ–¹æ³•ï¼Œä½†æœ¬èº«ä¸èƒ½ç›´æ¥ä½¿ç”¨ã€‚ç³»ç»Ÿé»˜è®¤æä¾›äº†å››ä¸ªå®ƒçš„å­ç±»:</p>

<ul>
  <li>NSURLSessionDataTask</li>
  <li>NSURLSessionUploadTask</li>
  <li>NSURLSessionDownloadTask</li>
  <li>NSURLSessionStreamTask</li>
</ul>

<p><img src="https://leo-1253441258.cos.ap-shanghai.myqcloud.com/blog/15179763063131.jpg" alt="" /></p>

<p>ä»åå­—æ¥çœ‹å°±èƒ½çŸ¥é“ï¼Œæ¯ä¸ª<code class="highlighter-rouge">dataTask</code>çš„ä½œç”¨ã€‚æˆ‘ä»¬æœ€ç»å¸¸ä½¿ç”¨çš„ï¼Œä¾¿æ˜¯<code class="highlighter-rouge">NSURLSessionDataTask</code>ã€‚</p>

<p>å…¶å­ç±»çš„åˆå§‹åŒ–ï¼Œä¸€èˆ¬æ˜¯ç”±<code class="highlighter-rouge">NSURLSession</code>å®Œæˆå¹¶è¿”å›çš„ã€‚</p>

<p><img src="https://leo-1253441258.cos.ap-shanghai.myqcloud.com/blog/15179061251110.jpg" alt="" /></p>

<p>æ‰€ä»¥ï¼Œä¸€ä¸ªç®€å•çš„ POST è¯·æ±‚ï¼Œå¤§æ¦‚å°±æ˜¯è¿™ä¸ªæ ·å­ã€‚</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:yourURL];
request.HTTPMethod = @"POST";

NSURLSession *session = [NSURLSession sharedSession];
NSURLSessionDataTask *task = [session dataTaskWithRequest:request.copy completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {
   
}];
    
[task resume];
</code></pre></div></div>

<h2 id="nsurlsessiondownloadtask">NSURLSessionDownloadTask</h2>

<p>å…¶å®ï¼Œ<code class="highlighter-rouge">NSURLSessionDataTask</code>ä¸€å®šç¨‹åº¦ä¸Šå®Œå…¨å¯ä»¥å–ä»£<code class="highlighter-rouge">NSURLSessionDownloadTask</code>ï¼Œä¸<code class="highlighter-rouge">NSURLSeesionDownloadTask</code>ç›¸æ¯”ï¼Œ<code class="highlighter-rouge">NSURLSessionDataTask</code>å°‘äº†åå°ä¸‹è½½åŠŸèƒ½(Background Sessions)ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¹¶æ— å·®å¼‚ã€‚<a href="https://stackoverflow.com/questions/20604910/what-is-difference-between-nsurlsessiondatatask-vs-nsurlsessiondownloadtask/20605116">çœ‹è¿™é‡Œäº†è§£æ›´å¤š</a></p>

<p><strong>ä½¿ç”¨ NSURLSessionDataTask ä¸‹è½½</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:ly_urlcreate(@"sxdcq.m4a")];
request.HTTPMethod = @"POST";
    
NSURLSessionDataTask *dataTask = [self.urlSession dataTaskWithRequest:request.copy completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {
   if (!error) {
       NSError *writeError = nil;
       NSString *document = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES).lastObject;
       BOOL result = [data writeToFile:[NSString stringWithFormat:@"%@/(data_task)%@",document,response.suggestedFilename] options:NSDataWritingAtomic error:&amp;writeError];
       if (result) {
           [self showMessage:@"download success(DataTask)"];
       } else {
           [self showMessage:writeError.description];
       }
   } else {
       [self showMessage:error.description];
   }
}];
[dataTask resume];
</code></pre></div></div>
<p>ä¸‹è½½çš„æ–‡ä»¶åœ¨æ²™ç›’ä¸­ï¼š
<img src="https://leo-1253441258.cos.ap-shanghai.myqcloud.com/blog/15179748779860.jpg" alt="" /></p>

<p><strong>ä½¿ç”¨ NSURLSessionDownloadTask ä¸‹è½½</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:ly_urlcreate(@"sxdcq.m4a")];
request.HTTPMethod = @"POST";
    
NSURLSessionDownloadTask *downloadTask = [self.urlSession downloadTaskWithRequest:request.copy completionHandler:^(NSURL * _Nullable location, NSURLResponse * _Nullable response, NSError * _Nullable error) {
   if (!error) {
       NSError *moveError = nil;
       NSString *document = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES).lastObject;
       NSURL *targetURL = [NSURL fileURLWithPath:[NSString stringWithFormat:@"%@/(download_task)%@",document,response.suggestedFilename]];
       BOOL result = [[NSFileManager defaultManager] moveItemAtURL:location toURL:targetURL error:&amp;moveError];
       if (result) {
           [self showMessage:@"download success(Download Task)"];
       } else {
           [self showMessage:moveError.description];
       }
   } else {
       [self showMessage:error.description];
   }
}];
    
[downloadTask resume];
</code></pre></div></div>

<p>ä¸‹è½½çš„æ–‡ä»¶åœ¨æ²™ç›’ä¸­ï¼š</p>

<p><img src="https://leo-1253441258.cos.ap-shanghai.myqcloud.com/blog/15179752452619.jpg" alt="" /></p>

<h2 id="nsurlsessionuploadtask">NSURLSessionUploadTask</h2>

<p>ä½¿ç”¨<code class="highlighter-rouge">UploadTask</code>ä¸Šä¼ æ–‡ä»¶ã€‚</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:yourURL];
    
NSURLSessionUploadTask *upload = [self.urlSession uploadTaskWithRequest:request.copy fromData:[NSData data] completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {
   
}];
    
[upload resume];
</code></pre></div></div>

<p>ä½†æ˜¯ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™æ ·å†™å¾€å¾€æ˜¯è¡Œä¸é€šçš„ï¼Œå› ä¸ºåç«¯å¤§å¤šé‡‡ç”¨çš„éƒ½æ˜¯<code class="highlighter-rouge">multipart/form-data</code>ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦å°†<code class="highlighter-rouge">Content-Type</code>è®¾ç½®æˆ<code class="highlighter-rouge">multipart/form-data</code>å¹¶ä½¿ç”¨<code class="highlighter-rouge">boundary</code>æ¥åˆ†å‰²å¤šä¸ªéƒ¨åˆ†ã€‚ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä¸Šä¼ æ–‡ä»¶æ²¡æœ‰è¿™ä¹ˆéº»çƒ¦ï¼Œæ˜¯å› ä¸ºä¸€èˆ¬æˆ‘ä»¬éƒ½æ˜¯ç”¨äº†<code class="highlighter-rouge">AFNetworking</code>æ¥åšç½‘ç»œè¯·æ±‚ï¼Œè¿™éƒ¨åˆ†<code class="highlighter-rouge">AFN</code>å¸®æˆ‘ä»¬åšäº†ã€‚</p>

<h2 id="nsurlsessionstreamtask">NSURLSessionStreamTask</h2>

<p>è¿™ä¸ªæ˜¯å¾ˆå°‘ç”¨åˆ°çš„ï¼Œç”¨ä»¥å»ºç«‹ TCP è¿æ¥ã€‚æˆ‘è‡ªå·±ä¹Ÿæ²¡ä½¿ç”¨è¿‡â•®(â•¯â–½â•°)â•­</p>

<h2 id="åå°ä»»åŠ¡">åå°ä»»åŠ¡</h2>

<p>ä½¿ç”¨<code class="highlighter-rouge">backgroundSessionConfigurationWithIdentifier</code>å¯ä»¥åˆ›å»ºä¸€ä¸ªåå°ä»»åŠ¡(åªèƒ½æ˜¯ä¸Šä¼ æˆ–è€…ä¸‹è½½ï¼Œä¸”ä¸èƒ½æ˜¯<code class="highlighter-rouge">DataTask</code>æ–¹å¼)ï¼Œä¿è¯ App é€€å‡ºåˆ°åå°ä»»åŠ¡ä¾ç„¶èƒ½å¤Ÿè¿›è¡Œã€‚</p>

<p>å½“ä»»åŠ¡å®Œæˆåï¼Œä¼šè°ƒç”¨<code class="highlighter-rouge">- application: handleEventsForBackgroundURLSession: completionHandler:</code>å’Œ<code class="highlighter-rouge">- URLSessionDidFinishEventsForBackgroundURLSession</code>ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œä½ çš„é€»è¾‘å¤„ç†ã€‚</p>

<h2 id="ä»»åŠ¡çš„æ“ä½œå–æ¶ˆæŒ‚èµ·æ¢å¤">ä»»åŠ¡çš„æ“ä½œ(å–æ¶ˆï¼ŒæŒ‚èµ·ï¼Œæ¢å¤)</h2>

<h3 id="ä»»åŠ¡çš„å–æ¶ˆ">ä»»åŠ¡çš„å–æ¶ˆ</h3>

<p>å–æ¶ˆä¸€ä¸ªä»»åŠ¡ï¼Œæœ‰å¤šç§æ–¹æ³•ï¼Œä½ å¯ä»¥ç›´æ¥æŠŠ<code class="highlighter-rouge">session</code>è®¾ç½®ä¸ºæ— æ•ˆï¼š</p>

<ul>
  <li>finishTasksAndInvalidate</li>
  <li>invalidateAndCancel</li>
</ul>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>å¦‚æœä½ ä½¿ç”¨<code class="highlighter-rouge">[NSURLSession sharedSession]</code>è¿™ç§æ–¹å¼åˆå§‹åŒ–çš„<code class="highlighter-rouge">session</code>ï¼Œä¸èƒ½ä½¿ç”¨<code class="highlighter-rouge">finishTasksAndInvalidate</code>æˆ–è€…<code class="highlighter-rouge">invalidateAndCancel</code>æ¥å–æ¶ˆã€‚</strong></p>

<blockquote>
  <p>-finishTasksAndInvalidate and -invalidateAndCancel do not
have any effect on the shared session singleton.</p>
</blockquote>

<p>å…¶ä¸­ï¼Œ<code class="highlighter-rouge">finishTasksAndInvalidate</code>å–æ¶ˆçš„æ˜¯æœªåˆ›å»ºçš„ä»»åŠ¡ï¼Œä¸èƒ½å–æ¶ˆæ­£åœ¨è¿›è¡Œçš„ä»»åŠ¡ï¼Œå®ƒä¼šç­‰å¾…å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡æ‰§è¡Œå®Œã€‚è€Œ<code class="highlighter-rouge">invalidateAndCancel</code>åˆ™æ˜¯å–æ¶ˆæ‰€æœ‰çŠ¶æ€çš„ä»»åŠ¡ï¼Œæ— è®ºå®ƒæ˜¯å¦æ­£åœ¨æ‰§è¡Œã€‚å¦‚æœæˆ‘ä»¬<code class="highlighter-rouge">invalidate session</code>ï¼Œå¦‚æœå†æ¬¡ä½¿ç”¨è¿™ä¸ª<code class="highlighter-rouge">session</code>æ‰§è¡Œä»»åŠ¡ï¼Œå°±ä¼šå‘ç”Ÿå´©æºƒã€‚</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Terminating app due to uncaught exception 'NSGenericException', reason: 'Task created in a session that has been invalidated'
</code></pre></div></div>

<p>é™¤äº†ç›´æ¥å¯¹<code class="highlighter-rouge">seesion</code>æ“ä½œï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹æŸä¸ª<code class="highlighter-rouge">Task</code>æ‰§è¡Œ<code class="highlighter-rouge">cancel</code>æ“ä½œï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯æˆ‘ä»¬ä¹‹åä»ç„¶å¯ä»¥ä½¿ç”¨è¿™ä¸ª<code class="highlighter-rouge">session</code>æ¥æ‰§è¡Œ<code class="highlighter-rouge">task</code>ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡<code class="highlighter-rouge">getTasksWithCompletionHandler</code>æˆ–è€…<code class="highlighter-rouge">getAllTasksWithCompletionHandler</code>è·å–æŸä¸ª<code class="highlighter-rouge">session</code>çš„æ‰€æœ‰<code class="highlighter-rouge">task</code>ï¼Œç„¶åæ ¹æ®<code class="highlighter-rouge">taskIdentifier</code>æ¥æ‰¾å‡ºè¦å–æ¶ˆçš„ä»»åŠ¡ã€‚</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[self.urlSession getTasksWithCompletionHandler:^(NSArray&lt;NSURLSessionDataTask *&gt; * _Nonnull dataTasks, NSArray&lt;NSURLSessionUploadTask *&gt; * _Nonnull uploadTasks, NSArray&lt;NSURLSessionDownloadTask *&gt; * _Nonnull downloadTasks) {
   for (NSURLSessionDataTask *task in dataTasks) {
       [task cancel];
   }

   for (NSURLSessionUploadTask *uploadTask in uploadTasks) {
       [uploadTask cancel];
   }

   for (NSURLSessionDownloadTask *downloadTask in downloadTasks) {
       [downloadTask cancel];
   }
}];
</code></pre></div></div>

<h3 id="ä»»åŠ¡çš„æŒ‚èµ·å’Œæ¢å¤">ä»»åŠ¡çš„æŒ‚èµ·å’Œæ¢å¤</h3>

<p>å’Œå–æ¶ˆä¸åŒçš„æ˜¯ï¼ŒæŒ‚èµ·å’Œæ¢å¤ä¸èƒ½å¯¹<code class="highlighter-rouge">seesion</code>æ“ä½œï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡æœ€åä¸€ä¸ªæ–¹æ³•ï¼Œéå†<code class="highlighter-rouge">session</code>æ‰€æœ‰çš„<code class="highlighter-rouge">task</code>ï¼Œä½¿ç”¨<code class="highlighter-rouge">NSURLSessionTask</code>çš„<code class="highlighter-rouge">suspend</code>å’Œ<code class="highlighter-rouge">resume</code>æ–¹æ³•ã€‚</p>

<h2 id="nsurlsessiondelegate">NSURLSessionDelegate</h2>

<p><code class="highlighter-rouge">NSURLSessionDelegate</code>æ˜¯ä¸æ•´ä¸ª<code class="highlighter-rouge">URL Session</code>ç›¸å…³çš„åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç®¡ä½ ç”¨<code class="highlighter-rouge">dataTask</code>ã€<code class="highlighter-rouge">downloadTask</code>ã€<code class="highlighter-rouge">uploadTask</code>ï¼Œè¿™ä¸ªåè®®çš„æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨ã€‚åŸºäºå®ƒä¹‹ä¸Šï¼Œè¿˜æœ‰ä¸€äº›æ‰©å±•çš„å­åè®®ï¼š</p>

<ul>
  <li>NSURLSessionTaskDelegate</li>
  <li>NSURLSessionDataDelegate</li>
  <li>NSURLSessionDownloadDelegate</li>
  <li>NSURLSessionStreamDelegate</li>
</ul>

<p>ä»–ä»¬çš„å…³ç³»å¦‚ä¸‹ï¼š</p>

<p><img src="https://leo-1253441258.cos.ap-shanghai.myqcloud.com/blog/15179945045619.jpg" alt="" /></p>

<h3 id="nsurlsessiondelegate-1">NSURLSessionDelegate</h3>

<p><strong>å¦‚æœä½ æƒ³ä½¿ç”¨ Delegateï¼Œé‚£ä¹ˆå°±ä¸èƒ½ä½¿ç”¨ seesion çš„ Block ç‰ˆæœ¬</strong></p>

<p>è‡³äºæ¯ä¸ªåè®®é‡Œé¢çš„æ–¹æ³•ï¼Œç½‘ä¸Šå¾ˆå®¹æ˜“å°±èƒ½æ‰¾åˆ°ï¼Œä¸å†è¿‡å¤šèµ˜è¿°ã€‚</p>

<h2 id="ç»“è¯­">ç»“è¯­</h2>

<p>åˆ°è¿™é‡Œ, åŸºæœ¬ä¸Š<code class="highlighter-rouge">NSURLSession</code>å°±è®²å®Œäº†ï¼Œé‡Œé¢éƒ½æ˜¯ä¸€äº›å¾ˆåŸºç¡€çš„ï¼Œä¸»è¦æ˜¯ä¸º<code class="highlighter-rouge">AFNetworking</code>è¿™ç¯‡æ–‡ç« é‡Œæåˆ°çš„çŸ¥è¯†ç‚¹åšä¸€ä¸ªé“ºå«ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æ–‡ä¸­çš„<a href="https://github.com/liaoyuanng/Learn-AFNetworking/tree/master/NSURLSessionDemo">Demo</a></p>


    </article>
    
    <div class="social-share-wrapper">
        <div class="social-share"></div>
    </div>
    
</div>

<section class="author-detail">
    <section class="post-footer-item author-card">
        <div class="avatar">
            <img src="/assets/img/profile.png" alt="">
        </div>
        <div class="author-name" rel="author">Ju Liaoyuan</div>
        <div class="bio">
            <p>iOS æ¬ç –ï¼Œä¸šä½™å¤©æ–‡çˆ±å¥½è€…</p>
        </div>
        
        <ul class="sns-links">
            
            <li>
                <a href="//weibo.com/u/2738809475" target="_blank">
                    <i class="iconfont icon-weibo"></i>
                </a>
            </li>
            
            <li>
                <a href="//juejin.im/user/5872f9822f301e0057490c89" target="_blank">
                    <i class="iconfont icon-juejin"></i>
                </a>
            </li>
            
            <li>
                <a href="//github.com/liaoyuanng" target="_blank">
                    <i class="iconfont icon-github"></i>
                </a>
            </li>
            
            <li>
                <a href="//jianshu.com/u/f386d4a61d33" target="_blank">
                    <i class="iconfont icon-jianshu"></i>
                </a>
            </li>
            
            <li>
                <a href="mailto:liaoyuan@imliaoyuan.com" target="_blank">
                    <i class="iconfont icon-email"></i>
                </a>
            </li>
            
        </ul>
        
    </section>
    <section class="post-footer-item read-next">
        
        <div class="read-next-item">
            <a href="/2018/02/20/AFNetworking.html" class="read-next-link"></a>
            <section>
                <span>AFNetworking æºç åˆ†æ</span>
                <p></p>
            </section>
            
            <div class="filter"></div>
            <img src="https://leo-1253441258.cos.ap-shanghai.myqcloud.com/blog/AFNetworking.png" alt="">
            
        </div>
        
         
        <div class="read-next-item">
            <a href="/2018/01/17/swift-try.html" class="read-next-link"></a>
            <section>
                <span>Swift - try, try?, try!</span>
                <p></p>
            </section>
            
        </div>
        
    </section>
    
</section>

<footer class="g-footer">
    <section>Stay True Â© 2018</section>
    <section>Powered by <a href="//jekyllrb.com">Jekyll</a> | <a href="https://github.com/liaoyuanng/StayTrue">Theme StayTrue</a>
    <p>Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a></p></section>
</footer>

<script src="/assets/js/social-share.min.js"></script>
<script>
    socialShare('.social-share', {
        sites: ['wechat','weibo','twitter','facebook'],
        wechatQrcodeTitle: "åˆ†äº«åˆ°å¾®ä¿¡æœ‹å‹åœˆ",
        wechatQrcodeHelper: '<p>æ‰«ç ååˆ†äº«ğŸ˜˜</p>'
    });
</script>
<script>
/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
/*å†™å…¥è‡ªå·±çš„disqusä¿¡æ¯*/
s.src = '';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
<script src="/assets/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="/assets/js/index.min.js"></script>
</body>
</html>